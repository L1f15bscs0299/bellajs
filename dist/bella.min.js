/**
 * bellajs
 * v5.2.2
 * built: Thu, 16 Jun 2016 09:13:02 GMT
 * git: https://github.com/ndaidong/bella.js
 * author: @ndaidong
 * License: MIT
**/
;(function(E,b){if("undefined"!==typeof module&&module.exports)module.exports=b();else{var q=window||{};q.define&&q.define.amd?q.define([],b):q.exports?q.exports=b():q[E]=b()}})("Bella",function(){var E="undefined"!==typeof module&&module.exports?"node":"browser",b={ENV:E},q=function(a){var c=Object.prototype.toString,d=typeof a;if("object"===d){if(a){if(-1!==c.call(a).indexOf("HTML")&&-1!==c.call(a).indexOf("Element"))return"element";if(a instanceof Array||!(a instanceof Object)&&"[object Array]"===
c.call(a)||"number"===typeof a.length&&"undefined"!==typeof a.splice&&"undefined"!==typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object||"[object Function]"!==c.call(a)&&("undefined"===typeof a.call||"undefined"===typeof a.propertyIsEnumerable||a.propertyIsEnumerable("call"))))return"function"}return"object"}return"function"===d&&"undefined"===typeof a.call?"object":d},F=function(a){return"undefined"!==q(a)},y=function(a){return null===q(a)||null===
a},f=function(a){return!y(a)&&"string"===q(a)},z=function(a){return""!==a&&!y(a)&&F(a)&&!isNaN(a)&&"number"===q(a)},N=function(a){return z(a)&&isFinite(a)&&Math.floor(a)===a},n=function(a){return!y(a)&&"array"===q(a)},r=function(a){return!y(a)&&"object"===q(a)},G=function(a){return a instanceof Date&&!isNaN(a.valueOf())},O=function(a){return a&&"node"===E&&a._root?!0:!y(a)&&"element"===q(a)},H=function(a){return!F(a)||y(a)||f(a)&&""===a||n(a)&&"[]"===JSON.stringify(a)||r(a)&&"{}"===JSON.stringify(a)},
w=function(a,c){if(!a||!c)return!1;var d=!0;F(a[c])||(d=c in a);return d},I=function(a,c){var d=!0;if(H(a)&&H(c))return!0;if(G(a)&&G(c))return a.getTime()===c.getTime();if(z(a)&&z(c)||f(a)&&f(c))return a===c;if(n(a)&&n(c)){if(a.length!==c.length)return!1;if(0<a.length)for(var l=0,e=a.length;l<e;l++)if(!I(a[l],c[l])){d=!1;break}}else if(r(a)&&r(c)){var l=[],e=[],b;for(b in a)w(a,b)&&l.push(b);for(var k in c)w(c,k)&&e.push(k);if(l.length!==e.length)return!1;for(var p in a)if(!w(c,p)||!I(a[p],c[p])){d=
!1;break}}return d};b.isDef=F;b.isNull=y;b.isString=f;b.isNumber=z;b.isInteger=N;b.isBoolean=function(a){return!0===a||!1===a};b.isArray=n;b.isObject=r;b.isDate=G;b.isFunction=function(a){return!y(a)&&"function"===q(a)};b.isElement=O;b.isEmpty=H;b.isLetter=function(a){var c=/^[a-z]+$/i;return f(a)&&c.test(a)};b.isEmail=function(a){var c=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return f(a)&&c.test(a)};b.isGeneratedKey=function(a){var c=/^[A-Z0-9]+$/i;return f(a)&&
c.test(a)};b.hasProperty=w;b.equals=I;var C=function(a,c){if(!f(a))return"";var d=a?a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,""):a||"";return d&&c?d.replace(/\r?\n|\r/g," ").replace(/\s\s+|\r/g," "):d},P=function(a){return f(a)?a.toLowerCase():""},Q=function(a){if(!f(a))return"";if(1===a.length)return a.toUpperCase();a=a.toLowerCase();return a.charAt(0).toUpperCase()+a.slice(1)},R=function(a,c,d){a=String(a);c=c||2;return a.length>=c?a:Array(c-a.length+1).join(d||"0")+a};b.encode=function(a){return f(a)?
encodeURIComponent(a):""};b.decode=function(a){return f(a)?decodeURIComponent(a.replace(/\+/g," ")):""};b.trim=C;b.truncate=function(a,c){a=C(a);if(!a)return a;var d=c||140;if(a.length<=d)return a;var l=a.substring(0,d),e=l.split(" "),b="";1<e.length?(e.pop(),b+=e.join(" "),b.length<a.length&&(b+="...")):(l=l.substring(0,d-3),b=l+"...");return b};b.stripTags=function(a){if(!f(a))return"";(a=a.replace(/<.*?>/gi," "))&&(a=C(a.replace(/\s\s+/g," ")));return a};b.escapeHTML=function(a){return f(a)?a.replace(/&/g,
"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):""};b.unescapeHTML=function(a){return f(a)?a.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"):""};b.strtolower=P;b.strtoupper=function(a){return f(a)?a.toUpperCase():""};b.ucfirst=Q;b.ucwords=function(a){if(!f(a))return"";var c=[];a.split(" ").forEach(function(a){c.push(Q(a))});return c.join(" ")};b.leftPad=R;b.rightPad=function(a,c,d){a=String(a);c=c||2;return a.length>=c?a:a+Array(c-a.length+
1).join(d||"0")};b.repeat=function(a,c){if(!a||!f(a))return"";if(!N(c)||1>c)return a;for(var d=[];d.length<c;)d.push(a);return d.join("")};var J=function(a,c){for(var d=[];10>d.length;)d.push(Math.random().toString(36).slice(2));for(var d=d.join(""),b=d.length,e=c||"",g=Math.max(a||32,e.length);e.length<g;)e+=d.charAt(Math.floor(Math.random()*b))||"";return e},K=function(a,c){if(!a||0>a)a=0;c||(c=9007199254740991);if(a===c)return c;a>c&&(a=Math.min(a,c),c=Math.max(a,c));return Math.floor(Math.random()*
(c-a+1))+a},S=function(a,c,d){if(n(a))for(var b=0;b<a.length;b++){var e=a[b];if(d&&e[d]===c[d]||e===c)return!0}else{if(r(a)&&f(c))return w(a,c);if(f(a)&&f(c))return a.includes(c)}return!1},L=function(a,c){for(var d=-1,b=0;b<a.length;b++)if(a[b]===c){d=b;break}return d},B=function(a){if(!(a instanceof Object))return a;var c;c=a.constructor;switch(c){case RegExp:c=new c(a);break;case Date:c=new c(a.getTime());break;default:c=new c}for(var d in a)c[d]=B(a[d]);return c},T=function(a,c,d,b){d=d||!1;b=
b||[];for(var e in a)if(!(0<b.length&&S(b,e))&&(!d||d&&c.hasOwnProperty(e))){var g=a[e],k=c[e];r(k)&&r(g)||n(k)&&n(g)?c[e]=T(g,c[e],d,b):c[e]=B(g)}return c},U=function(a,c,d){var b;return function(){var e=d&&!b;clearTimeout(b);b=setTimeout(function(){b=null;d||a()},c||200);e&&a()}};b.id=J();b.createId=J;b.random=K;b.min=function(a){return n(a)?Math.min.apply({},a):a};b.max=function(a){return n(a)?Math.max.apply({},a):a};b.unique=function(a){if(n(a)){for(var c=[],d=0;d<a.length;d++)-1===c.indexOf(a[d])&&
c.push(a[d]);return c}return a||[]};b.contains=S;b.first=function(a){return a[0]};b.last=function(a){return a[a.length-1]};b.getIndex=L;b.getLastIndex=function(a,c){for(var d=-1,b=a.length-1;0<=b;b--)if(a[b]===c){d=b;break}return d};b.sort=function(a,c){var d=[],b={},e=c||1;if(n(a)&&0<a.length)if(d=B(a),b=d[0],1===e||-1===e)d.sort(function(a,c){return a>c?e:a<c?-1*e:0});else if(f(e)&&w(b,e))d.sort(function(a,c){return a[e]>c[e]?1:a[e]<c[e]?-1:0});else if(r(e)){var g={},k;for(k in e)g.key=k,w(b,g.key)&&
(g.order=-1===e[g.key]?-1:1,d.sort(function(a){return function(c,d){return c[a.key]>d[a.key]?a.order:c[a.key]<d[a.key]?-1*a.order:0}}(g))),g={key:g.key,order:g.order}}return d};b.shuffle=function(a){a=B(a);var c,d,b;for(c=a.length-1;0<=c;c--)d=Math.floor(Math.random()*c),b=a[c-1],a[c-1]=a[d],a[d]=b;return a};b.pick=function(a,c){var d=c?Math.min(c,a.length):1;1>d&&(d=1);if(d>=a.length)return a;if(1===d)return d=K(0,a.length-1),a[d];for(var b=[],e=B(a);b.length<d;){var g=K(0,e.length-1);b.push(e[g]);
e.splice(g,1)}return b};b.empty=function(a){if(n(a)){for(var c=a.length-1;0<=c;c--)a[c]=null,delete a[c];a.length=0}else if(r(a))for(c in a)b.hasProperty(a,c)&&(a[c]=null,delete a[c]);else f(a)?a="":O(a)&&(a.innerHTML="");return a};b.copies=T;b.clone=B;b.debounce=U;b.throttle=function(a,c){return U(a,c,!0)};b.md5=function(){for(var a=[],c=0;64>c;)a[c]=0|4294967296*Math.abs(Math.sin(++c));return function(c){var b,e,g,k,p=[];c=unescape(encodeURI(c));for(var h=c.length,t=[b=1732584193,e=-271733879,~b,
~e],u=0;u<=h;)p[u>>2]|=(c.charCodeAt(u)||128)<<8*(u++%4);p[c=16*(h+8>>6)+14]=8*h;for(u=0;u<c;u+=16){h=t;for(k=0;64>k;)h=[g=h[3],(b=h[1]|0)+((g=h[0]+[b&(e=h[2])|~b&g,g&b|~g&e,b^e^g,e^(b|~g)][h=k>>4]+(a[k]+(p[[k,5*k+1,3*k+5,7*k][h]%16+u]|0)))<<(h=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*h+k++%4])|g>>>32-h),b,e];for(k=4;k;)t[--k]=t[k]+h[k]}for(c="";32>k;)c+=(t[k>>3]>>4*(1^k++&7)&15).toString(16);return c}}();var D=function(a,c,b){z(a)&&(a=String(a));if(!a||!f(a))return"";z(c)&&(c=String(c));z(b)&&
(b=String(b));if(f(c)&&f(b))a=a.split(c).join(b);else if(n(c)&&f(b))c.forEach(function(c){a=D(a,c,b)});else if(n(c)&&n(b)&&c.length===b.length){var l=c.length;if(0<l)for(var e=0;e<l;e++)a=D(a,c[e],b[e])}return a},V=function(a){if(z(a))return String(a);if(!f(a))return"";var c={a:"\u00e1|\u00e0|\u1ea3|\u00e3|\u1ea1|\u0103|\u1eaf|\u1eb7|\u1eb1|\u1eb3|\u1eb5|\u00e2|\u1ea5|\u1ea7|\u1ea9|\u1eab|\u1ead|\u00e4",A:"\u00c1|\u00c0|\u1ea2|\u00c3|\u1ea0|\u0102|\u1eae|\u1eb6|\u1eb0|\u1eb2|\u1eb4|\u00c2|\u1ea4|\u1ea6|\u1ea8|\u1eaa|\u1eac|\u00c4",
c:"\u00e7",C:"\u00c7",d:"\u0111",D:"\u0110",e:"\u00e9|\u00e8|\u1ebb|\u1ebd|\u1eb9|\u00ea|\u1ebf|\u1ec1|\u1ec3|\u1ec5|\u1ec7|\u00eb",E:"\u00c9|\u00c8|\u1eba|\u1ebc|\u1eb8|\u00ca|\u1ebe|\u1ec0|\u1ec2|\u1ec4|\u1ec6|\u00cb",i:"\u00ed|\u00ec|\u1ec9|\u0129|\u1ecb|\u00ef|\u00ee",I:"\u00cd|\u00cc|\u1ec8|\u0128|\u1eca|\u00cf|\u00ce",o:"\u00f3|\u00f2|\u1ecf|\u00f5|\u1ecd|\u00f4|\u1ed1|\u1ed3|\u1ed5|\u1ed7|\u1ed9|\u01a1|\u1edb|\u1edd|\u1edf|\u1ee1|\u1ee3|\u00f6",O:"\u00d3|\u00d2|\u1ece|\u00d5|\u1ecc|\u00d4|\u1ed0|\u1ed2|\u1ed4|\u00d4|\u1ed8|\u01a0|\u1eda|\u1edc|\u1ede|\u1ee0|\u1ee2|\u00d6",
u:"\u00fa|\u00f9|\u1ee7|\u0169|\u1ee5|\u01b0|\u1ee9|\u1eeb|\u1eed|\u1eef|\u1ef1|\u00fb",U:"\u00da|\u00d9|\u1ee6|\u0168|\u1ee4|\u01af|\u1ee8|\u1eea|\u1eec|\u1eee|\u1ef0|\u00db",y:"\u00fd|\u1ef3|\u1ef7|\u1ef9|\u1ef5",Y:"\u00dd|\u1ef2|\u1ef6|\u1ef8|\u1ef4"},b;for(b in c)if(w(c,b))for(var l=c[b].split("|"),e=0;e<l.length;e++)a=D(a,l[e],b);return a};b.replaceAll=D;b.stripAccent=V;b.createAlias=function(a,c){a=String(a);var b=V(a);if(b)var f=c||"-",b=P(b),b=C(b),b=b.replace(/\W+/g," "),b=b.replace(/\s+/g,
" "),b=b.replace(/\s/g,f);return b};b.template=function(a,c){var b=[],l=function(a,c,k){k&&b.push(k);k=[];for(var p in c)if(w(c,p)){var h=c[p];if(r(h)||n(h))k.push({key:p,data:h});else if(f(h)){var h=D(h,["{","}"],["&#123;","&#125;"]),t=b.concat([p]),t=new RegExp("{"+t.join(".")+"}","gi");a=a.replace(t,h)}}0<k.length&&k.forEach(function(c){a=l(a,c.data,c.key)});return C(a,!0)};return c&&(f(c)||r(c)||n(c))?l(a,c):a};var M=function(){return new Date},A=function(){return M().getTime()};(function(){var a=
"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),c="January February March April May June July August September October November December".split(" "),d=function(){var a=(new Date).getTimezoneOffset();return["GMT",0>a?"+":"-",R(Math.abs(a/60),4)].join("")}(),l=function(b,g){var k=!1,p,h,t=g?(new Date(g)).getTime():A();b&&f(b)||(b="D, M d, Y  h:i:s A");b.match(/(\.*)a{1}(\.*)*/i)&&(k=!0);var u=function(a){return String(10>a?"0"+a:a)};p=t instanceof Date?t:new Date(t);if(isNaN(p.getTime()))if(/^(\d+-\d+-\d+)\s(\d+:\d+:\d+)$/i.test(t))p=
new Date(t.replace(" ","T"));else return t+" !";h={Y:function(){return p.getFullYear()},y:function(){return(h.Y()+"").slice(-2)},F:function(){return c[h.n()-1]},M:function(){return(h.F()+"").slice(0,3)},m:function(){return u(h.n())},n:function(){return p.getMonth()+1},S:function(){var a=h.j()+" ",a=a.charAt(a.length-2);return"1"===a?"st":"2"===a?"nd":"3"===a?"rd":"th"},j:function(){return p.getDate()},d:function(){return u(h.j())},t:function(){return(new Date(h.Y(),h.n(),0)).getDate()},w:function(){return p.getDay()},
l:function(){return a[h.w()]},D:function(){return(h.l()+"").slice(0,3)},G:function(){return p.getHours()},g:function(){return h.G()%12||12},h:function(){return u(k?h.g():h.G())},i:function(){return u(p.getMinutes())},s:function(){return u(p.getSeconds())},a:function(){return 11<h.G()?"pm":"am"},A:function(){return h.a().toUpperCase()},O:function(){return d}};return b.replace(/\.*\\?([a-z])/gi,function(a,c){return h[a]?h[a]():c})};b.now=M;b.time=A;b.date={utc:function(a){return(new Date(a||M())).toUTCString()},
local:function(a){return l("D, j M Y h:i:s O",a)},strtotime:function(a){return(new Date(a)).getTime()},format:l,relativize:function(a){var c=a instanceof Date?a:new Date(a);a=new Date-c;c=parseInt(c,10);isNaN(c)&&(c=0);if(a<=c)return"Just now";var c=null,b={millisecond:1,second:1E3,minute:60,hour:60,day:24,month:30,year:12},d;for(d in b)if(a<b[d])break;else c=d,a/=b[d];a=Math.floor(a);1!==a&&(c+="s");return[a,c].join(" ")+" ago"}}})();(function(){var a=new Map,c,d=function(a,c){var b=a.match(/^(\d+)\s?(d|h|m|s)+$/i);
if(b){var d=b,b=0,e=A()-c;if(d){var g=parseInt(d[1],10),d=d[2];"s"===d?b=1E3:"m"===d?b=6E4:"h"===d?b=36E5:"d"===d&&(b=864E5);b=b*g-e}else b=-1;return b}if(b=a.match(/^(sun|mon|tue|wed|thu|fri|sat)+\w*\s+(\d+)(:\d+)?(:\d+)?$/i)){var f=b,g="sun mon tue wed thu fri sat".split(" "),b=new Date,e=b.getDay(),e=L(g[e],g),d=f[1].toLowerCase(),l=L(d,g),n=d=g=0;f[2]&&(g=parseInt(f[2],10));f[3]&&(d=parseInt(f[3].replace(/\D/gi,""),10));f[4]&&(n=parseInt(f[4].replace(/\D/gi,""),10));b.setHours(g);b.setMinutes(d);
b.setSeconds(n);var q=b.getTime(),f=A(),r=b;if(l<e||f>q)b=new Date(b),b.setDate(b.getDate()+e+7-b.getDay()%7),r=b;r.setHours(g);r.setMinutes(d);r.setSeconds(n);return r.getTime()-f}if(b=a.match(/^(\*|\d+)\s+(\*|\d+)\s+(\*|\d+)\s+(\*|\d+)\s+(\*|\d+)\s+(\d+)$/i)){var f=b,b="*"===f[1]?"*":parseInt(f[1],10),e="*"===f[2]?"*":parseInt(f[2],10),g="*"===f[3]?"*":parseInt(f[3],10),d="*"===f[4]?"*":parseInt(f[4],10),n="*"===f[5]?"*":parseInt(f[5],10),x="*"===f[6]?"*":parseInt(f[6],10),v=new Date,m=v.getFullYear();
if("*"!==b&&b<m)b=-1;else{var f=b,l=e,q=g,r=d,w=n;"*"===b&&(f=m);m=v.getMonth()+1;"*"===e&&(l=m);m=v.getDate();"*"===g&&(q=m);m=v.getHours();"*"===d&&(r=m);v=v.getMinutes();"*"===n&&(w=v);x=new Date(f,l-1,q,r,w,x);m=x.getTime();v=A();m-=v;0>m&&"*"===n&&(x.setMinutes(w+1),m=x.getTime(),m-=v);0>m&&"*"===d&&(x.setHours(r+1),m=x.getTime(),m-=v);0>m&&"*"===g&&(x.setDate(q+1),m=x.getTime(),m-=v);0>m&&"*"===e&&(x.setMonth(l),m=x.getTime(),m-=v);0>m&&"*"===b&&(x.setFullYear(f+1),m=x.getTime(),m-=v);b=m}return b}return-1},
f=function(b){b.fn();var c=b.id;if(!b.repeat)return a["delete"](c);var d=A();b.lastTick=d;a.set(c,b);return!0},e=function(){if(0<a.size){var b=2147483647,g=[];a.forEach(function(c){var e=c.id,f=d(c.time,c.lastTick);0>f?a["delete"](e):0===f?(c.delay=0,g.push(c)):(c.delay=f,a.set(e,c),f<=b&&(b=f,e=[],e=g.concat(c),g=e.filter(function(a){return a.delay<=b})))});c&&clearTimeout(c);g.length&&(c=setTimeout(function(){g.map(f);setTimeout(e,1)},b))}},g=function(b,c,d){d=d?0:1;var f=A(),g=J(32);a.set(g,{id:g,
fn:c,time:b,repeat:d,createdAt:f,lastTick:f,delay:0});e()};b.scheduler={yearly:function(a,b){g("* "+a,b)},monthly:function(a,b){g("* * "+a,b)},daily:function(a,b){g("* * * "+a,b)},hourly:function(a,b){return g("* * * * "+a,b)},every:function(a,b){return g(a,b)},once:function(a,b){return g(a,b,1)}}})();return b});